# Amsha Crew Monitor

**Amsha Crew Monitor** is a comprehensive suite of tools designed to provide visibility into the performance, cost, and effectiveness of your AI agents. It goes beyond simple logging by offering deep insights into resource utilization, token consumption, and the specific contributions of different LLMs to your final output.

## ðŸš€ Key Features

### ðŸ“Š Performance Monitoring
*   **Resource Tracking**: Real-time monitoring of CPU, Memory, and GPU usage during agent execution.
*   **Token Metrics**: granular tracking of prompt and completion tokens to estimate costs accurately.
*   **Execution Time**: Precise duration tracking for optimization.

### ðŸ§© Contribution Analysis
*   **Feature Attribution**: Analyze which specific features or outputs were generated by which LLM.
*   **Impact Scoring**: Calculate the percentage contribution of each model to the final result.

### ðŸ“ˆ Automated Reporting
*   **Excel Generation**: Automatically convert JSON logs into detailed Excel reports.
*   **Report Combination**: Merge multiple individual reports into a master summary for easier consumption by stakeholders.

---

## ðŸ“¦ Components

The package consists of three main components:

1.  **CrewPerformanceMonitor**: The runtime agent monitor.
2.  **ContributionAnalyzer**: Post-processing tool to analyze feature attribution.
3.  **ReportingTool**: Utility to generate human-readable Excel reports.

---

## ðŸ“– Quick Start

### Monitoring an Agent

```python
from nikhil.amsha.crew_monitor.service.crew_performance_monitor import CrewPerformanceMonitor

# Initialize monitor
monitor = CrewPerformanceMonitor(model_name="gpt-4")

monitor.start_monitoring()
# ... Run your CrewAI agent task ...
monitor.stop_monitoring()

# Get metrics
metrics = monitor.get_metrics()
print(monitor.get_summary())
```

### Analyzing Contributions

```python
from nikhil.amsha.crew_monitor.service.contribution_analyzer import ContributionAnalyzer

analyzer = ContributionAnalyzer(config_path="config/monitor_config.yaml")
analyzer.run()
```

### Generating Reports

```python
from nikhil.amsha.crew_monitor.service.reporting_tool import ReportingTool

reporter = ReportingTool(config_path="config/monitor_config.yaml")
reporter.run()
```
