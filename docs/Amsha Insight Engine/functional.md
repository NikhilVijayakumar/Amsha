# Functional Requirements: Amsha Insight Engine

| |                |
| :--- |:---------------|
| **Version:** | 1.0            |
| **Date:** | August 2, 2025 |
| **Author:** | Nikhil         |
| **Status:** | Draft          |

-----

### 1. Introduction

This document specifies the functional requirements for the **Amsha Insight Engine**. This module serves as the intelligent reporting layer for the Amsha validation framework. Its purpose is to consume structured, machine-readable data from various validation processes (static linting, LLM-based definition analysis, and runtime output evaluation) and use a client-provided, LLM-powered crew to synthesize this data into a high-level, human-readable narrative report.

The intended audience includes software architects and developers who will use this library to generate comprehensive quality assurance summaries for their AI agentic systems.

-----

### 2. Core Problem Statement

Automated validation tools, such as linters and evaluators, produce detailed but often dense, machine-readable outputs (e.g., JSON files with scores and metrics). While this data is essential for programmatic checks, it requires significant human effort to interpret, synthesize, and understand the "big picture." Developers need to manually sift through multiple reports to diagnose issues and identify trends. This manual analysis is time-consuming and can lead to missed insights.

> **Amsha Insight Engine** aims to solve this problem by automating the final step of the validation process: the interpretation of results. It provides a framework to transform complex, raw data into a concise, insightful, and actionable narrative summary, effectively creating an "AI-powered analyst" for agent quality assurance.

-----

### 3. Goals and Scope

#### 3.1. Goals

-   To provide a framework for the automated generation of intelligent, narrative reports from raw validation data.
-   To synthesize findings from multiple, disparate validation reports into a single, cohesive summary.
-   To reduce the manual effort required to interpret and understand agent quality metrics.
-   To provide maximum flexibility by allowing the client application to define and provide its own "reporting crew."

#### 3.2. Scope

The scope is strictly limited to orchestrating the report generation process. It defines the data contracts for the input reports and provides an interface to execute a client-provided crew against that data.

-----

### 4. Core Features (Functional Requirements)

#### 4.1. Data Ingestion (`FR-IE-IN`)

-   **FR-IE-IN-01: Standardized Input Format:** The system must accept one or more structured, machine-readable reports as its primary input. The library shall define a standardized data contract (e.g., via Pydantic models) for these input reports to ensure consistency.
-   **FR-IE-IN-02: Multi-Report Consumption:** The system must be capable of consuming and processing data from multiple types of validation reports simultaneously, including, but not limited to:
    * Static analysis reports from the `Amsha Crew Linter`.
    * LLM-as-Judge reports on agent/task definition quality.
    * LLM-as-Judge reports on agent runtime output.

#### 4.2. Report Generation (`FR-IE-GEN`)

-   **FR-IE-GEN-01: Client-Provided Reporting Crew:** The system's core function shall be to execute a `Crew` object that is provided by the client application at runtime. The library will not provide a default reporting crew.
-   **FR-IE-GEN-02: Data Passing:** The system must pass the ingested raw report data to the client's crew as context for the generation task.
-   **FR-IE-GEN-03: Structured Report Output:** The system shall return a single, structured object containing the final report generated by the client's crew (e.g., a Markdown string).

#### 4.3. Operational Constraints (`FR-IE-OP`)

-   **FR-IE-OP-01: Stateless Operation:** The `Amsha Insight Engine` library must be entirely stateless and must not persist any data or state between invocations.
-   **FR-IE-OP-02: Abstract Dependencies:** The system's interface must be defined in a way that it does not depend on any specific LLM, model provider, or prompt structure. It only requires a valid, executable `Crew` object from the client.
-   **FR-IE-OP-03: No Embedded Secrets:** The library's source code must not contain any hardcoded secrets, credentials, or configurations.

-----

### 5. User Roles and Personas

-   **AI/Application Developer:** The primary user who will use this module to build a final reporting step into their quality assurance pipeline. They are responsible for creating the custom "reporting crew" that aligns with their specific reporting needs and tone.

-----

### 6. Assumptions and Dependencies

-   The client application is responsible for executing the various validation tiers (Linter, LLM-as-Judge) and generating the raw data reports that will serve as input to this engine.
-   The client application is responsible for developing, configuring, and providing a fully functional `CrewAI` crew object to serve as the "reporting crew." This includes providing the necessary LLM configuration for that crew.

-----

### 7. Out of Scope

-   **Providing Validation Tools:** This module does not perform any validation itself; it only processes the *results* of other validation tools.
-   **Providing a Reporting Crew:** The library will not include a pre-built "reporting crew." The logic, prompts, and LLM choice for the summarization task are the sole responsibility of the client application.
-   **Report Storage:** The engine produces a report object in memory. It is the responsibility of the client application to persist this report using a storage mechanism (e.g., the `Amsha Artifact Store`).