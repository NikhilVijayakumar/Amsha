crew_name: "StoryPipelineCrew"
usecase: "bedtime_story_pipeline"
module_name: "StoryParams"

# Define the pipeline steps
pipeline:
  - "Step1_Concept"
  - "Step2_Write"
  - "Step3_Polish"

crews:
  "Step1_Concept":
    steps:
      - task_key: "generate_concept"
        agent_key: "ConceptArtist"
        task_file: "e:/Python/Amsha/src/nikhil/amsha/integration_tests/crew_forge/config/pipeline/task_concept.yaml"
        agent_file: "e:/Python/Amsha/src/nikhil/amsha/integration_tests/crew_forge/config/pipeline/agent_concept.yaml"
        knowledge_sources: []
    input:
      - key_name: "theme"
        source: "direct"
        value: "Magical Forest"

  "Step2_Write":
    steps:
      - task_key: "write_story"
        agent_key: "StoryTeller"
        task_file: "e:/Python/Amsha/src/nikhil/amsha/integration_tests/crew_forge/config/pipeline/task_write.yaml"
        agent_file: "e:/Python/Amsha/src/nikhil/amsha/integration_tests/crew_forge/config/pipeline/agent_writer.yaml"
        # We will dynamically pass 'concept_title' from the previous step in the code
    input:
      - key_name: "characters"
        source: "file"
        path: "e:/Python/Amsha/src/nikhil/amsha/integration_tests/crew_forge/data/character_profiles.md"
        format: "text"

  "Step3_Polish":
    steps:
      - task_key: "polish_story"
        agent_key: "Editor"
        task_file: "e:/Python/Amsha/src/nikhil/amsha/integration_tests/crew_forge/config/pipeline/task_polish.yaml"
        agent_file: "e:/Python/Amsha/src/nikhil/amsha/integration_tests/crew_forge/config/pipeline/agent_editor.yaml"
        knowledge_sources: []
    # 'rough_draft' will be passed from the previous step output
    input: []
